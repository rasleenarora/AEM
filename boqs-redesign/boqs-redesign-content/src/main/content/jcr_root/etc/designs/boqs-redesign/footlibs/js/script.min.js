/*! Frontend - v0.1.0 - built on 03-08-2016 */
var Site={canTouch:window.Modernizr.touch,isMobile:function(){"use strict";return window.Modernizr.mq("(max-width: 767px)")},isTablet:function(){"use strict";return window.Modernizr.touch&&!this.isMobile()},setCookie:function(a,b,c){"use strict";var d=new Date;if(a){c=c?parseInt(c):1,d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e+"; path=/"}},getCookie:function(a){"use strict";var b="";if(!a)return"";var c=a+"=",d=document.cookie.split(";");return d.forEach(function(a){for(;" "===a.charAt(0);)a=a.substring(1),0===a.indexOf(c)&&(b=a.substring(c.length,a.length))}),b}};jQuery(document).ready(function(a){"use strict";var b=a(".loader-overlay");Site.showLoading=function(){b.stop().show()},Site.hideLoading=function(){b.stop().fadeOut()},-1!==window.Detectizr.browser.userAgent.indexOf("windows phone")&&jQuery("html").addClass("window-phone"),-1!==window.Detectizr.browser.userAgent.indexOf("samsung")&&jQuery("html").addClass("samsung"),void 0===window.location.origin&&(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),Site.downloadPath=window.location.origin+"/bin/boqs-redesign/download?image="}),function(a,b,c){"use strict";function d(b,c){this.element=a(b),this.options=a.extend({},a.fn[e].defaults,this.element.data(),c),this.init()}var e="accordion";d.prototype={init:function(){var b=this,c=b.element,d=b.options;b.handle=c.find(d.classHandle),b.content=c.find(d.classContent),b.containItem=c.find(d.classContainItem),b.initItemOpen(),b.handle.off("click."+e).on("click."+e,function(c){c.preventDefault(),b.toggle(a(this))}).each(function(){var b=a(this).closest(d.classContainItem).hasClass(d.classActiveItem);a(this).is(":visible")||a(this).find(d.classDescription)[b?"hide":"show"]()})},initItemOpen:function(){var a=this,b=a.options,c=b.arrItemOpenDefault;if(b.isMultiOpen){if(!c)return;c.forEach(function(c){a.containItem.eq(c-1).addClass(b.classActiveItem)})}else{if(!b.itemOpenDefault)return;a.containItem.eq(b.itemOpenDefault-1).addClass(b.classActiveItem)}},show:function(b){var c=this,d=c.options;d.isMultiOpen?b.slideDown(d.duration,function(){a(this).closest(d.classContainItem).addClass(d.classActiveItem)}):(c.content.not(b).slideUp(d.duration,function(){a(this).closest(d.classContainItem).removeClass(d.classActiveItem).end().removeAttr("style").siblings(d.classHandle).find(d.classDescription).fadeIn("fast")}),b.hide().closest(d.classContainItem).addClass(d.classActiveItem).end().slideDown(d.duration,function(){b.removeAttr("style"),a(this).siblings(d.classHandle).find(d.classDescription).fadeOut("fast"),c.element.trigger("afterShow",b)}))},hide:function(b){var c=this,d=c.options;c.element.trigger("beforeHide",b),b.slideUp(d.duration,function(){a(this).closest(d.classContainItem).removeClass(d.classActiveItem).end().removeAttr("style").siblings(d.classHandle).find(d.classDescription).fadeIn("fast")})},toggle:function(a){if(c.isMobile()){var b=this,d=b.options,e=a.closest(d.classContainItem),f=e.find(d.classContent);b[e.hasClass(d.classActiveItem)?"hide":"show"](f)}},destroy:function(){this.handle.off("click."+e),a.removeData(this.element[0],e)}},a.fn[e]=function(c,f){return this.each(function(){var g=a.data(this,e);g?g[c]?g[c](f):b.console&&console.log(c?c+" method does not exist in "+e:e+" plugin has been initialized"):a.data(this,e,new d(this,c))})},a.fn[e].defaults={isMultiOpen:!1,arrItemOpenDefault:[1,2],itemOpenDefault:1,duration:400,classHandle:".handle",classContent:".content",classContainItem:".item",classActiveItem:"active",classDescription:".decs"},a(function(){a("[data-"+e+"]")[e]();var b=a("#filtering-controls");b.on("afterShow",function(c,d){d=a(d),a(c.target).is(b)&&d.hasClass("states-group")&&d.addClass("states")}).on("beforeHide",function(c,d){d=a(d),a(c.target).is(b)&&d.hasClass("states-group")&&d.removeClass("states")})})}(jQuery,window,Site),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="analytics";c.prototype={init:function(){var a=this;this.element.on("click."+d+" touchstart."+d,function(){b.ga&&b.ga("send",{hitType:a.options.hitType,eventCategory:a.options.eventCategory,eventAction:a.options.eventAction,eventLabel:a.options.eventLabel,eventValue:a.options.eventValue})})},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"buttons",eventValue:1},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,c),this.init()}var d="calendar",e=b.L10n.text.monthsShort,f=function(a){var c=a.getMonth(),d=a.getFullYear(),f=new Date;return c===f.getMonth()&&d===f.getFullYear()?b.L10n.text.today:e[a.getMonth()]+" "+a.getFullYear()};c.prototype={init:function(){var c=this;this.vars={calendar:a("[data-init-calendar]",this.element),todayBtn:a("[data-today]",this.element),target:a(this.element.data(d))},this.vars.calendar.datepicker(this.options).on("changeMonth",function(a){c.vars.target.val(f(a.date)),c.vars.target.trigger("change")}),this.vars.todayBtn.off("click."+d).on("click."+d,function(){c.vars.target.val(b.L10n.text.today).trigger("change"),c.vars.calendar.datepicker("update")})},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={minViewMode:1,format:"M-yyyy",startDate:"today"},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="carousel";c.prototype={init:function(){this.element.off("init."+d).on("init."+d,function(){var b=a(this).next(".control");a(".slick-next",b).appendTo(b)});var b="promo"===this.element.data("carousel");this.options.appendDots=this.element.next(".control"),b?this.options.fade=!1:this.options.appendArrows=this.options.appendDots,this.element.slick(this.options)},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={dots:!0,speed:1e3,fade:!0,autoplay:!1,autoplaySpeed:3e3,pauseOnHover:!1,cssEase:"ease"},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.select=this.element.children("select"),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="customSelectBox",e=a(document),f={UP:38,DOWN:40,CHARFIRST:65,CHARLAST:90,NUMFIRST:48,NUMLAST:57,ESC:27,ENTER:13,TAB:9},g={SLIDE:"slide",FADE:"fade"},h={OPTION:"OPTION",SELECT:"SELECT",OPTGRP:"OPTGROUP"},i=function(){var b=[],c=[],d=this.options,e=this.select,f=e.attr("class"),g='<div class="'+d.classWrapSelect+'" ></div>',i='<div class="'+d.labelEle+'"><span class="visible-value"></span><a href="javascript:void(0);" class="'+d.btnSelect+'"></a></div>',j='<ul class="'+d.listEle+'"></ul>';this.vars.newSelect=a(g),this.vars.labelSelect=a(i),this.vars.listItem=a(j),f&&this.vars.newSelect.addClass(f),e.find("*").each(function(){var e=a(this),f=e.prop("nodeName");f===h.OPTION&&(e.parent().prop("nodeName")===h.SELECT&&b.push('<li class="'+d.classOptSelect+'" data-val="'+e.val()+'">'+e.text()+"</li>"),e.parent().prop("nodeName")===h.OPTGRP&&b.push('<li class="'+d.classOptGroup+'" data-val="'+e.val()+'">'+e.text()+"</li>"),c.push(e.text().toUpperCase().charCodeAt(0))),f===h.OPTGRP&&b.push('<li class="'+d.classOptGrpSelect+'">'+e.attr("label")+"</li>")}),this.vars.newSelect.append(this.vars.labelSelect).append(this.vars.listItem.append(b.join(""))),this.vars.labelSelect.children("span.visible-value").text(e.find("option:selected").text()).data("val",e.val()),this.vars.listItem.find('[data-val="'+e.val()+'"]').addClass(d.classSelectedItem),e.after(this.vars.newSelect).hide(),this.vars.newSelect.append(e),this.vars.liItems=this.vars.listItem.find("li").not("."+d.classOptGrpSelect),this.vars.previousIndex=this.vars.liItems.filter("."+d.classSelectedItem).index(),this.vars.dataChar=c},j=function(a,b){return a+1>b-1?0:a+1},k=function(a,b){return 0>a-1?b-1:a-1},l=function(a,b){this.vars.labelSelect.children("span.visible-value").text(b).data("val",a),this.select.val(a),this.select.trigger("change")},m=function(){var a=this.vars.newSelect,b=this.options.classSelectedValue;this.vars.labelSelect.children("span.visible-value").data("val")?a.addClass(b):a.removeClass(b)},n=function(a){var b=this.options,c=this.vars.liItems;c.eq(a).addClass(b.classSelectedItem).siblings().removeClass(b.classSelectedItem)},o=function(){var a=this.vars.listItem;a.scrollTop(0),a.scrollTop(this.vars.liItems.filter("."+this.options.classSelectedItem).offset().top-a.height())},p=function(){this.vars.labelSelect.off("click."+d),this.vars.listItem.off("mouseleave."+d).find("li").not("."+this.options.classOptGrpSelect).off("click."+d).off("mouseenter."+d),e.off("keydown."+d).off("click."+d)},q=function(){this.select.prop("disabled")&&(this.newSelect.addClass(this.options.classDisableSelect),p.call(this))},r=function(){var a=this.vars.listItem;switch(this.options.effect){case g.FADE:a.fadeIn();break;case g.SLIDE:a.slideDown();break;default:a.show()}this.vars.isShow=!0,this.vars.newSelect.addClass(this.options.classSelectedValue),this.vars.prevVal=this.vars.labelSelect.children("span.visible-value").data("val")},s=function(){var a=this.vars.listItem;switch(this.options.effect){case g.FADE:a.fadeOut();break;case g.SLIDE:a.slideUp();break;default:a.hide()}this.vars.isShow=!1,m.call(this),this.vars.prevVal!==this.vars.labelSelect.children("span.visible-value").data("val")&&this.select.trigger("changeValue.customSelectBox")};c.prototype={init:function(){var b=this,c=this.options;this.vars={previousIndex:-1,lastIndexOfDuplicate:-1,duplicateKeyCodeIndex:[],isShow:!1,dataChar:[],prevVal:""},i.call(this),m.call(this),this.vars.labelSelect.on("click."+d,function(a){a.preventDefault(),a.stopPropagation(),b.vars.isShow?s.call(b):r.call(b)}),this.vars.listItem.on("mouseleave."+d,function(){n.call(b,b.vars.previousIndex)}).find("li").not("."+c.classOptGrpSelect).on("click."+d,function(){var d=a(this);b.vars.previousIndex=d.index()-d.prevAll().filter("."+c.classOptGrpSelect).length,d.addClass(c.classSelectedItem),l.call(b,d.attr("data-val"),d.text()),s.call(b)}).on("mouseenter."+d,function(){a(this).addClass(c.classSelectedItem).siblings().removeClass(c.classSelectedItem)}),e.on("keydown."+d,function(a){if(b.vars.isShow)switch(a.preventDefault(),!0){case a.keyCode>=f.NUMFIRST&&a.keyCode<=f.NUMLAST:case a.keyCode>=f.CHARFIRST&&a.keyCode<=f.CHARLAST:-1!==b.vars.dataChar.indexOf(a.keyCode)&&b.determineCharKeyDown(a.keyCode);break;case a.keyCode===f.UP:case a.keyCode===f.DOWN:b.determineNavigationKey(a.keyCode);break;case a.keyCode===f.ESC:case a.keyCode===f.TAB:case a.keyCode===f.ENTER:b.vars.labelSelect.triggerHandler("click."+d)}}).on("click."+d,function(){b.vars.isShow&&s.call(b)}),q.call(this)},determineCharKeyDown:function(a){var b=this,c=b.vars.lastIndexOfDuplicate,d=b.vars.duplicateKeyCodeIndex,e=b.vars.liItems;b.vars.previousKeyCode===a?(c=j(c,d.length),b.vars.previousIndex=d[c]):(d&&(d=[]),b.vars.dataChar.forEach(function(b,c){b===a&&d.push(c)}),c=0,b.vars.previousIndex=d[c]),n.call(b,b.vars.previousIndex),o.call(b),l.call(b,e.eq(b.vars.previousIndex).attr("data-val"),e.eq(b.vars.previousIndex).text()),b.vars.previousKeyCode=a,b.vars.lastIndexOfDuplicate=c,b.vars.duplicateKeyCodeIndex=d},determineNavigationKey:function(a){var b=this,c=b.vars.previousIndex,d=b.vars.liItems;switch(a){case f.UP:c=k(c,d.length);break;case f.DOWN:c=j(c,d.length)}n.call(b,c),o.call(b),l.call(b,d.eq(c).attr("data-val"),d.eq(c).text()),b.vars.previousKeyCode=a,b.vars.previousIndex=c},destroy:function(){a.removeData(this.element[0],d),this.vars.newSelect.before(this.select.removeAttr("style")).remove(),p.call(this)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={effect:"show",btnSelect:"btn-select",labelEle:"select-box",listEle:"list-unstyled",classOptSelect:"option-of-select",classOptGroup:"option-of-optgroup",classOptGrpSelect:"optgroup-of-select",classSelectedItem:"selected-item",classWrapSelect:"custom-select-box",classSelectedValue:"selected",classDisableSelect:"disabled-select",diffWidth:0},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="event-calendar",e=a(b),f=a(".popup .wrap-error:first"),g={successClass:"",labelClass:"col-sm-6 wrap-error",errorTemplate:'<i class="wi-icon icon-close-2"></i><p class="text-error">{0}</p>',errorAppendTo:".row:last",onBeforeInit:function(b){var c=b.find("[data-popin]").data("required-message");c&&b.find("[data-required]").each(function(){var b=a(this);b.data("required-message")||b.data("required-message",c)})},onChange:function(){h(!this.element.find(".wrap-error:visible").length)},onAfterSubmit:function(a){return h(a),a}},h=function(a){a?f.addClass("hidden"):f.removeClass("hidden")},i=function(b){var c=this,d=b.data("ajax-form");void 0!==d&&null!==d&&""!==d?a.ajax({url:d+".html",type:"get",dataType:"text",error:function(){console.log("Call ajax fail! Maybe link is not correct!")},success:function(d){var e=a(d).find("form"),f=e.find(".popup#event-ajax-form");a("body").append(e),f.addClass("remove-when-hide").popin(),e.validation(g),console.log(f);var h=c.vars.fmData.eventResults[b.data("eindex")],i=b.data("title"),j=b.data("event-page"),k=b.data("start-date"),l=b.data("end-date"),m=f.find(".icon-time"),n=f.find(".desc p.time");f.find(".modal-header .wrap-error").addClass("hidden").end().find("[data-validation] .error").removeClass("error").end().find("[data-validation] .wrap-error").remove().end(),f.find(".modal-title .event-name").html(" "+i).end().find('input[name="eventName"]').val(i).end().find('input[name="eventStartDate"]').val(k).end().find('input[name="eventEndDate"]').val(l).end().find('input[name="eventPage"]').val(j),n.html(h.time),h.time?m.add(n).show():m.add(n).hide(),f.popin("show")}}):console.log("ajax form is not defined")},j=function(a){i.call(this,a)},k=function(){a(this.options.registerPopup).popin("hide")},l=function(b){var c=b,d=c.eventResults,e=0,f=null,g=null,h=null;return c=a.extend({},c,this.vars.fmDataParams),c.total=d.length,c.remain=d.length,c.total&&(h=d[0],f=void 0!==h&&null!==h?h.startMonth+"-"+h.startYear:null),d.forEach(function(a,b){g=a.startMonth+"-"+a.startYear,f!==g?(e=1,f=g):e+=1,a.monthlyIndex=e,a.eIndex=b}),c},m=function(){var b=this;this.element.find(".event-content").each(function(){a(this).find(".btn-group .btn-register").on("click."+d,function(c){c.preventDefault(),j.call(b,a(this))})})},n=function(b,c){var d=10,e=this.element,f=this.vars.headerElm,g=null,h=null;void 0!==b&&null!==b?g="feature"===b.attr("href")?e.find(".feature-event"):e.find(".item.month-"+b.attr("href")):void 0!==c&&(g=c>0?e.find(".item:nth-child("+c+")"):e.find(".feature-event")),h=g.offset().top-f.height()-parseInt(f.css("top"))-d,a("body, html").animate({scrollTop:h})},o=function(){var b=this,c=this.element,f=this.vars.headerElm;e.on("scroll."+d+"-fornav",function(){var d=e.scrollTop()+f.height(),g=e.outerHeight()-f.height(),h={id:null,d:g};c.find(".feature-event, .event-card-block .item").each(function(){var b=a(this),c=Math.abs(b.offset().top-d);c<h.d&&g>c&&(h={id:b.hasClass("feature-event")?"feature":b.data("id"),d:c})}),null!==h.id&&h.id.length>0&&p.call(b,h.id)})},p=function(a){var b=this.vars.navControl,c=b.find(".list-control li"),d="";c.removeClass("active"),d=c.find('a[href="'+a+'"]').closest("li").addClass("active").find(".text-1").html(),b.find(".main-control button").html(d)},q=function(){function b(){h.find(".list-control").slideToggle()}var c=this,e=this.vars.navControl,f=e.find(".list-control"),g=f.find("li"),h=e.find(".main-control"),i=h.find("button"),j=e.find("button.next"),k=e.find("button.prev");g.find("a").on("click."+d,function(b){var d=a(this);return b.preventDefault(),p.call(c,d.attr("href")),i.html(d.attr("title")),n.call(c,d),!1}),i.off("click."+d).on("click."+d,function(){b()}),j.off("click."+d).on("click."+d,function(){var a=f.find("li.active"),b=a.next("li");b.length>0&&b.find("a").click()}),k.off("click."+d).on("click."+d,function(){var a=f.find("li.active"),b=a.prev("li");b.length>0&&b.find("a").click()}),o.call(this)},r=function(){function b(a,b){return'<li><a href="'+a+'"><span class="text-1">'+b+"</span></a></li>"}var c=this.vars,d=c.navControl,e=c.feature,f=c.cardWrap.find(".item"),g="",h=d.find(".main-control li.active a").attr("href");e.hasClass("hide")||(g+=b("feature",c.fmData.featureEventsLabel)),f.each(function(){g+=b(a(this).data("id"),a(this).data("label"))}),""!==g?d.show().attr("style","").removeClass("fixed-nav").find(".list-control").html(g):d.hide(),s(d),d.data("origin-offset-top",d.offset().top),null!==h?d.find('a[href="'+h+'"]').closest("li").addClass("active"):d.find('a[href="feature"]').closest("li").addClass("active"),q.call(this)},s=function(a){a.removeClass("fixed-nav").data("origin-offset-top",a.offset().top)},t=function(a){return b.L10n.text.monthsFull[a-1]},u=function(a){var b=this.vars.fmData,c="",d="";return a.time||(d="hidden"),c='<div class="detail"><div class="event-content"><div class="event-box"><div class="icon-box">'+(a.icon.length?'<img src="'+a.icon+'" class="img-responsive"/>':"")+'</div><a href="'+a.moreDetailLink+'" class="text-box title">'+a.name+'</a></div><div class="date-time "'+d+'><p class="desc-1"><span aria-hidden="true" class="wi-icon icon-date-time"></span><span class="blue-text">'+a.time+'</span></p></div><div class="location"><p class="desc-1"><span aria-hidden="true" class="wi-icon icon-location"></span><span class="blue-text">'+a.location+'</span></p></div><div class="desc hidden-xs"><p>'+a.desc+'</p></div><div class="btn-group"><div class="item"><a href="'+a.moreDetailLink+'" class="btn btn-default"><span>'+b.moreDetailText+'</span><span aria-hidden="true" class="wi-icon icon-arrow"></span></a></div>'+("notavailable"!==a.status?'<div class="item"><a href="#" data-end-date="'+a.endDate+'" data-start-date="'+a.startDate+'" data-ajax-form="'+a.buttonPath+'" data-event-page="'+a.moreDetailLink+'" data-title="'+a.name+'" data-eindex="'+a.eIndex+'" class="btn btn-primary btn-register"><span>'+a.buttonLabel+'</span><span aria-hidden="true" class="wi-icon icon-arrow"></span></a></div>':"")+'</div></div><div class="thumb-image hidden-xs">'+(a.image.length?'<img src="'+a.image+'" class="img-responsive"/>':"")+"</div></div>"},v=function(a){var b=this.vars.fmData,c="",d="";return a.time||(d="hidden"),c='<div class="col-sm-6 col-md-4"><div class="event-content"><div class="event-box"><div class="icon-box">'+(a.icon.length?'<img src="'+a.icon+'" class="img-responsive"/>':"")+'</div><a href="'+a.moreDetailLink+'" class="text-box title">'+a.name+'</a></div><div class="date-time "'+d+'><p class="desc-1"><span aria-hidden="true" class="wi-icon icon-date-time"></span><span class="blue-text">'+a.time+'</span></p></div><div class="location"><p class="desc-1"><span aria-hidden="true" class="wi-icon icon-location"></span><span class="blue-text">'+a.location+'</span></p></div><div class="btn-group"><a href="'+a.moreDetailLink+'" class="btn btn-default"><span>'+b.moreDetailText+'</span><span aria-hidden="true" class="wi-icon icon-arrow"></span></a>'+("notavailable"!==a.status?'<a href="#" data-end-date="'+a.endDate+'" data-start-date="'+a.startDate+'" data-ajax-form="'+a.buttonPath+'" data-event-page="'+a.moreDetailLink+'" data-title="'+a.name+'" data-eindex="'+a.eIndex+'" class="btn btn-primary btn-register hidden-xs"><span>'+a.buttonLabel+'</span><span aria-hidden="true" class="wi-icon icon-arrow"></span></a>':"")+"</div>"+(a.isFeature?'<div class="pin-item"><span class="wi-icon icon-pin"></span></div>':"")+"</div></div>"},w=function(){var b=this.element;b.find("h3.static-title").each(function(){var b=a(this),c=b.closest(".item");c=b.parents(".feature-event").length>0?b.next(".events").find(".detail").length:b.closest(".item").find(".event-content").length,b.find(".num").length>0?b.find(".num").html(" ("+c+")"):b.append('<span class="num"> ('+c+")</span>")})},x=function(a,b){var c="",d="",e=this.vars.fmData,f=this.vars.feature.find(".events"),g=this.vars.cardWrap.find(".events"),h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=this;this.vars.feature.find("h3.static-title").html(e.featureEventsLabel);var p=null,q=Object.keys(a);q.forEach(function(b){h=a[b].events,j=1,k=0,l=null,m=void 0!==e.lastestMonth&&e.lastestMonth===b,m?(i=g.find(".item.month-"+b),n=null,l=i.find(".row:last"),n=l.find(".col-sm-6").length,j=n+1):c+='<div class="item month-'+b+'" data-id="'+b+'" data-label="'+a[b].label+'"><h3 class="static-title">'+a[b].label+'</h3><div class="row">',h.forEach(function(a,b){b>=k&&(c+=v.call(o,a),j%2===0&&(c+='<div class="visible-sm-block clearfix"></div>'),j%3===0&&(c+='<div class="visible-lg-block visible-md-block clearfix"></div>'),j+=1,a.isFeature&&(d+=u.call(o,a)))}),m?(l.append(c),c=""):c+="</div></div>",p=b}),void 0!==b&&0===b?(g.html(c),f.html(d)):(g.append(c),f.append(d)),y.call(this),e.lastestMonth=p,w.call(this)},y=function(){var a=this.vars.feature,b=a.find(".events").html();void 0===b||""===b?a.addClass("hide"):a.removeClass("hide")},z=function(){var a=this.vars,b=this.element,c=a.cardWrap.find(".event-result"),d=a.fmData;if(c.find(".control-result").addClass("hide"),0===d.total)c.find(".zero-result").removeClass("hide");else if(d.remain>0){var e=(d.remain>1?b.data("result-type-plural"):b.data("result-type"))+" ";c.find(".load-more").removeClass("hide").find(".desc .num").html(" "+d.remain+" ").end().find(".desc .result").html(e).end().find(".load-more .result").html(e)}else c.find(".no-more-result").removeClass("hide")},A=function(a){return'<li><div class="icon-box">'+(a.icon.length?'<img src="'+a.icon+'" class="img-responsive"/>':"")+'</div><div class="text-box"><a href="'+a.moreDetailLink+'" class="title name-event">'+a.name+'</a><p class="date"><span>'+a.time+"</span></p></div></li>"},B=function(){function c(b){b.find(".event-calendar-wrap").each(function(){var b=a(this),c=b.find("li").length;c?b.show():b.hide(),b.find(".static-title .num").html(" ("+c+")")})}var d=this.vars.fmData,e=this.element,f=d.eventResults,g=f.length,h=d.numberOfResultToShowInCondensedView,i=g>=h?h:g,j=new Date,k=j.getUTCMonth()+1+"-"+j.getUTCFullYear(),l="",m="",n="",o=null;f.forEach(function(a,c){i>c&&(a.isFeature?m+=A.call(this,a):(o=a.startMonth+"-"+a.startYear,o!==l&&(l.length&&(n+="</ul></div>"),l=o,n+='<div class="event-calendar-wrap"><h3 class="static-title"><span>'+(k!==o?t.call(this,a.startMonth)+" "+a.startYear:b.L10n.text.curMonth)+'</span><span class="num"></span></h3><ul class="list-unstyled static-list">'),n+=A.call(this,a)))}),n.length&&(n+="</ul></div>"),e.find(".feature .static-title .feature-label").html(d.featureEventsLabel).end().find(".feature ul").html(m).end().find(".month").html(n).end().find(".link-more").attr("href",d.loadMoreUrlInCondensedView).find(".load-more-label").html(d.loadMoreLabelInCondensedView),c(e)},C=function(a){this.vars.fmData=l.call(this,a),B.call(this)},D=function(a){var c=null,d=null,e=null,f={},g=new Date,h=g.getUTCMonth()+1+"-"+g.getUTCFullYear(),i=null,j=0,k=0,n=null;void 0!==a?(c=l.call(this,a),this.vars.fmData=c):(c=this.vars.fmData,j=c.showToEvent),k=c.total,d=j+c.numberOfResultPerPage+1,i=c.eventResults;var o=k;i.forEach(function(a,g){return g===d-1?(c.start=d,c.remain=k-d,void(c.showToEvent=d)):void(g>d-1||g>=j&&o>g&&(n=a.startMonth+"-"+a.startYear,n!==e&&(e=n,f[n]={label:h===e?b.L10n.text.curMonth:t(a.startMonth)+" "+a.startYear,events:[]}),f[n].events.push(a),g===k-1&&(c.showToEvent=k,c.remain=0)))}),x.call(this,f,j),z.call(this,j),m.call(this),r.call(this)},E=function(){var c=this,e=this.vars.cardWrap.find(".event-result");e.find(".control-result.load-more").on("click."+d,function(){return D.call(c),!1}).end().find(".control-result.no-more-result").on("click."+d,function(){n.call(c,null,0)}).end().find(".control-result.zero-result a").on("click."+d,function(){a(b).trigger("resetFilter")})},F=function(){function b(){var a=j.offset().top,b=e.scrollTop()+m;if("none"!==i.css("display")){if(i.find(".main-control button").is(":visible")){var d=e.scrollTop()+e.outerHeight();if(d>a+c&&i.data("origin-offset-top")>d)return void i.addClass("fixed-nav")}else{var f=0;if(b>a&&(f=b-a,f+i.find("ul").outerHeight()<j.outerHeight()))return void i.stop().animate({"margin-top":f})}i.attr("style","").removeClass("fixed-nav")}}var c=80,f=this,g=this.options,h=this.vars,i=h.navControl,j=this.element,l=a(g.registerPopup),m=h.headerElm.outerHeight(),n=100*Math.random();e.on("filterEventCalendar.id"+n,function(a,b){a.preventDefault(),void 0!==b.condensedView&&b.condensedView?C.call(f,b):D.call(f,b),b.resultBasedInUrlParameter||e.off("filterEventCalendar.id"+n)}),l.find("button.close").off("click."+d).on("click."+d,function(){k.call(f)}),e.off("scroll.navControl-"+d).on("scroll.navControl-"+d,function(){b()}).off("touchmove.navControl-"+d).on("touchmove.navControl-"+d,function(){b()}),e.on("recalNavOffset.eventCalendar",function(){s(i)})};c.prototype={init:function(){var c=this.options,d=this.element;if(this.vars={navControl:d.find("."+c.navClass),feature:d.find("."+c.featureClass),cardWrap:d.find("."+c.cardsWrapClass),headerElm:a("#header"),fmData:null,fmDataParams:{showToEvent:0,total:0,remain:0,lastestMonth:null}},F.call(this),E.call(this),void 0!==d.data("init-ajax")){var e=d.data("init-ajax");e.length&&a.ajax({url:e,type:"GET",success:function(c){a(b).trigger("filterEventCalendar",c)}})}},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={navClass:"control-nav",featureClass:"feature-event",cardsWrapClass:"event-card-block",registerPopup:".popup.register-popup"},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="expandContent";c.prototype={init:function(){this.handle=a('[data-expand-handle][href="#'+this.element.attr("id")+'"],[data-expand-handle][data-target="#'+this.element.attr("id")+'"]'),this.title=this.handle.find("[data-expand-title]"),this["default"]=this.element.hasClass(this.options.expandedClass)?"show":"hide",this.isTransitioning=!1,this.close=a(this.options.close,this.element),this.handle.off("click."+d).on("click."+d,a.proxy(function(b){a(b.target).attr("data-target")||b.preventDefault(),this.toggle()},this)),this.close.off("click."+d).on("click."+d,a.proxy(function(a){a.preventDefault(),this.toggle()},this))},toggle:function(){this[this.element.hasClass(this.options.expandedClass)?"hide":"show"]()},show:function(){if(!this.isTransitioning&&!this.element.hasClass(this.options.expandedClass)){this.isTransitioning=!0;var c,d=this.options,e=this.element;d.hidehandler&&this.handle.hide(),this.handle.addClass(d.activeHandle),this.title.slideUp(d.transitionTitle),c=function(){e.addClass(d.expandedClass).removeAttr("style"),this.isTransitioning=!1,e.hasClass("filtering-controls")&&a(b).trigger("recalNavOffset.eventCalendar")},e.slideDown(d.transitionContent,a.proxy(c,this))}},hide:function(){if(!this.isTransitioning&&this.element.hasClass(this.options.expandedClass)){this.isTransitioning=!0;var c,d=this.options,e=this.element;this.handle.removeClass(d.activeHandle),this.title.slideDown(d.transitionTitle),c=function(){e.removeClass(d.expandedClass).removeAttr("style"),this.isTransitioning=!1,d.hidehandler&&this.handle.fadeIn(d.transitionTitle,function(){a(this).removeAttr("style")}),e.hasClass("filtering-controls")&&a(b).trigger("recalNavOffset.eventCalendar")},e.slideUp(d.transitionContent,a.proxy(c,this))}},destroy:function(){this[this["default"]](),a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={expandedClass:"in",activeHandle:"active",close:"",hidehandler:!1,transitionContent:400,transitionTitle:200},a(function(){a("[data-expand-content]")[d](),a(".result-card-cmp").first().find("[data-expand-content]")[d]("show")})}(jQuery,window),function(a,b){"use strict";a(function(){function c(){var b="",c=0;return t.each(function(){var d=a(this),e=d.find(":checkbox:checked, :radio:checked, :text, select"),f=d.data("type");if(e.length){var g=[],h=!1;e.each(function(){var b=a(this),c=b.val(),d=a(this).find("option:selected");d.length?void 0===d.data("default")&&(h=!0):c&&""!==c&&"Today"!==c&&void 0===b.data("default")&&(h=!0),g.push(c)}),h&&(c+=1,b+="&"+f+"="+g.join("|"))}}),w.text(c),{url:b}}function d(a,b){var d=c(),e=u.val(),f=d.url;if(a=a||1,f=(e&&""!==e?"search-term="+e:"")+f,a&&a>1&&(f+="&page-number="+a),q.length>0){var h=q.data("event-calendar-path");void 0!==h&&""!==h&&(f+="&event-calendar-path="+h)}f&&""!==f&&"&"===f.substr(0,1)&&(f=f.substr(1)),g(f,b)}function e(a,c,e){c>a||0===a?n.empty():n.pagination({items:a,itemsOnPage:c,currentPage:e,prevText:b.L10n.text.prev,nextText:b.L10n.text.next,ellipseText:"...",edges:1,listStyle:"pagination",preventClick:!0,onPageClick:function(a){d(a,!1)}})}function f(a){var c=b.location.pathname+(""!==a?"?"+a:"");b.history.pushState("filtering",null,c)}function g(b,c){null!==x&&x.abort(),x=a.ajax({url:l.attr("action")+"?"+b,type:l.attr("method"),success:function(a){f(b),m.length>0?i(a,c):q.length>0&&h(a)}})}function h(c){a(b).trigger("filterEventCalendar",c)}function i(b,c){if(p.empty(),o.text(b.resultslabel),"string"==typeof b&&(b=a.parseJSON(b)),b&&b.searchResultBeans){var d=b.searchResultBeans.length;if(d&&b.resultCount){var f,g=[];b.searchResultBeans.forEach(function(a){f=a.breadcrumbItems.length,g.push('<li><div class="result-container-block">'),a.iconPath&&g.push('<div class="icon-box"><img src="'+a.iconPath+'" alt="" class="img-responsive" /></div>'),g.push('<div class="text-box">'),f&&(g.push('<ol class="breadcrumb">'),a.breadcrumbItems.forEach(function(a){a&&g.push('<li><a href="'+a.link+'"><span>'+a.heading+'</span><span class="wi-icon icon-arrow"></span></a></li>')}),g.push("</ol>")),g.push('<a href="'+a.url+'" class="text">'+a.title+"</a>"),a.description&&g.push('<p class="hidden-xs desc">'+a.description+"</p>"),g.push("</div>"),g.push("</div></li>")}),p.html(g.join("")),c&&e(b.resultCount,b.numberToDisplay,b.currentPage)}else n.empty()}else n.empty()}function j(b){if(b=a(b),b.is(":radio")){var c=b.closest("fieldset").find(".decs");c.length&&c.text(b.next().text())}}function k(b){b.preventDefault(),l[0].reset(),r.trigger("change.filters"),r.filter(":checkbox[data-default], :radio[data-default]").prop("checked",!0).trigger("change"),r.filter("select").each(function(){a(this).val(a(this).find("option[data-default]").val());
}),r.filter(":text").each(function(){var b=a(this);b.parent().hasClass("date-picker")&&b.val("Today")}),r.filter(":radio:checked").each(function(){j(this)}),r.filter("select").each(function(){var b=a(this);b.parent().find(".visible-value").text(b.children("option:eq(0)").text())}),a("[data-init-calendar]").datepicker("clearDates"),d(1,!0)}var l=a("[data-filters]"),m=a("#search-result-ajax"),n=m.children("nav"),o=m.children("h3"),p=m.children("ul"),q=a(".event-calendar[data-event-calendar]"),r=l.find(":checkbox, :radio, :text, select"),s=l.find('[type="submit"]'),t=l.find("[data-type]"),u=a("#search-term"),v=200,w=a(".num-filters"),x=null;s.on("click.filter",function(){d(1,!0),a(b).trigger("filterHandlerChanged",l)}),r.on("change.filters",function(){j(this),a(".filtering-submit").is(":hidden")&&(d(1,!0),a(b).trigger("filterHandlerChanged",l))}),c(),setTimeout(function(){a(b).trigger("filterHandlerChanged",l)},v),e(m.data("result-count"),m.data("number-to-display"),m.data("current-page")),a(".btn-reset-filters").on("click",k),a(b).on("resetFilter",k),a("[data-check-all]").on("change.filters-checkall",function(){var b=a(this);if(b.prop("checked")){var c=b.parent().siblings();b.attr("disabled","disabled"),c.find(":checkbox").prop("checked",!1).trigger("change.filters")}}).each(function(){var b=a(this);b.prop("checked")&&b.attr("disabled","disabled")}).parent().siblings().find(":checkbox").on("change.filters-checkall",function(){var b=a(this),c=b.parent().siblings();b.prop("checked")?c.find("[data-check-all]").removeAttr("disabled").prop("checked",!1).trigger("change.filters"):c.find(":checked").length||c.find("[data-check-all]").attr("disabled","true").prop("checked",!0).trigger("change.filters")}),q.length>0&&l.length>0&&d(1,!0)})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="gallery",e=a(b),f=b.L10n,g=a("body"),h=a("html"),i='<div class="background-overlay"></div>',j='<div><div class="image"><a href="#"><img src="" alt=""></a><div class="message-to-landscape">'+f.photoGallery.msgToLandscape+'</div></div><div class="social-gallery"><div class="clearfix"><div class="pull-left"></div><div class="pull-right"><div class="social-sharing"><div data-share-button="" data-description="description"data-title="title"data-url="url"data-image="image" class="share-button sharer-0" style="display: block;"><label class="entypo-export"><span>Share</span></label><div class="social load top center networks-5"><ul><li class="entypo-pinterest" data-network="pinterest"></li><li class="entypo-twitter" data-network="twitter"></li><li class="entypo-facebook" data-network="facebook"></li><li class="entypo-gplus" data-network="google_plus"></li><li class="entypo-paper-plane" data-network="email"></li></ul></div></div></div><a href="#" class="download-button" target="_blank"><span aria-hidden="true" class="icon-download"></span><span class="text hidden-xs">'+f.photoGallery.downloadTitle+'</span></a></div></div><p class="content"></p></div></div>',k='<div><div class="image"><a href="#"><img src="" alt="'+f.photoGallery.alt+'"></a></div></div>',l=200,m=null,n=function(){var b=this;Site.showLoading(),o.call(b,a(b.element).data("gallery-source"))},o=function(c){var d,e,g,h,i=this,l=i.vars,m="",n="",o="",q=null;if("string"==typeof c)try{c=a.parseJSON(c)}catch(r){console.log(r),c=[]}h=c.length,h||Site.hideLoading(),c.forEach(function(c,l){d=l+1,e=a(j),g=a(k),o=void 0!==c.caption?c.caption:"",a(".image img",e).prop("src",c.src).prop("alt",c.alt),a(".social-gallery .content",e).text(o),a(".social-gallery .pull-left",e).text(d+" "+f.photoGallery.of+" "+h),a(".download-button",e).attr("href",Site.downloadPath+c.src),q=a("[data-share-button]",e),q.attr("data-ind",999*Math.random()+"-"+l),q.attr("data-title",f.photoGallery.prefixShareTitle+i.element.data("name")),q.attr("data-description",f.photoGallery.prefixShareDesc+o),q.attr("data-url",b.location.href),q.attr("data-image",b.location.origin+"/"+c.src),m+=e.prop("outerHTML"),a(".image img",g).prop("src",c.thumbSrc),n+=g.prop("outerHTML"),p.call(i,c.src),p.call(i,c.thumbSrc)}),l.imageSlider.append(m),l.thumbSlider.append(n),setTimeout(function(){l.isWaiting=!1,l.numImagesLoaded===l.arrCloneImages.length&&(Site.hideLoading(),u.call(i,!0))},i.options.timeoutLoading)},p=function(a){var c=this,d=new b.Image,e=function(){var a=c.vars;a.numImagesLoaded+=1,a.isWaiting||a.numImagesLoaded!==a.arrCloneImages.length||(Site.hideLoading(),u.call(c,!0))};d.onload=e,d.onerror=e,d.src=a,c.vars.arrCloneImages.push(d)},q=function(){var b=(new Date).getTime(),c=this.vars;c.sliderID=b,c.imageSlider.addClass("sl-"+b),c.thumbSlider.addClass("sl-"+b),r.call(this),s.call(this),c.isInited=!0,a.isFunction(this.options.renderSuccessCallback)&&this.options.renderSuccessCallback()},r=function(){var b=this,c=b.vars,d=b.options;c.imageSlider.slick({infinite:d.infinite,slidesToShow:d.slidesToShowSlide,slidesToScroll:d.slidesToScrollSlide,arrows:d.arrowsSlide,fade:d.fadeSlide,asNavFor:d.sliderThumbSelector+".sl-"+c.sliderID}),c.imageSlider.on("afterChange",function(b,e,f){var g=c.thumbSlider.find(".slick-slide").not(".slick-cloned");a(b.target).is(c.imageSlider)&&e&&(g.removeClass(d.classThumbActive),g.eq(f).addClass(d.classThumbActive))}),a(".slick-prev",c.imageSlider).add(a(".slick-next",c.imageSlider)).removeAttr("style")},s=function(){var a=this,b=a.vars,c=!1;b.thumbSlider.slick({slidesToShow:a.options.slidesToShowNav,slidesToScroll:a.options.slidesToScrollNav,centerMode:c,infinite:a.options.infinite,centerPadding:a.options.centerPaddingNav,focusOnSelect:a.options.focusOnSelectNav,asNavFor:a.options.sliderImageSelector+".sl-"+b.sliderID})},t=function(){var c=b.innerHeight||e.height(),d=this.vars;c-=a(this.options.headerSelector,d.popupElement).outerHeight(),Site.isMobile()||(c-=this.vars.thumbSlider.outerHeight()),this.vars.imageSlider.css("height",c)},u=function(c){var d=this,f=d.vars,i=this.options,j=null,k=null,l=null,n="",o=f.imageSlider.add(f.thumbSlider);h.hasClass("iphone")&&e.scrollTop(0);var p=function(){c||(f.imageSlider.slick("unslick"),r.call(d),f.thumbSlider.slick("unslick"),s.call(d)),f.imageSlider.slick("slickGoTo",f.imageIndex),setTimeout(function(){o.animate({opacity:1},function(){function c(){k.addClass("hide").hide(),l.stop().fadeTo("fast",.5),d()}function d(){clearTimeout(m),m=null,m=setTimeout(function(){c()},i.inactiveTimeout)}j=a(".popup-gallery"),k=j.find(".social-gallery"),l=j.find(i.sliderThumbSelector),j.find(".message-to-landscape").attr("style",""),j.on("click.hide-tilt-message",function(){j.find(".message-to-landscape").fadeOut(2e3)}),n=document.documentElement.hasOwnProperty("ontouchstart")?"touchstart.inactive-gallery":"click.inactive-gallery",j.find(i.sliderImageSelector).find(".slick-slide").off(n).on(n,function(){k.removeClass("hide").show(),l.stop().fadeTo("fast",1),d()}),j.find(i.sliderThumbSelector).off(n).on(n,function(){l.stop().fadeTo("fast",1),d()}),a("html").hasClass("ios")||a(b).off("mousemove.inactive-gallery").on("mousemove.inactive-gallery",function(){k.removeClass("hide").show(),l.stop().fadeTo("fast",1),d()}),c()}),o.resize()},100)};c&&q.call(this),o.css("opacity",0),f.bkgElement.hide().appendTo(g).fadeIn(),Site.isMobile()?(f.popupElement.css("top","100%").show().animate({top:0},function(){p()}),f.popupElement.css({position:"absolute"})):f.popupElement.fadeIn(function(){p()}),a.isFunction(i.beforeShow)&&i.beforeShow.call(this)},v=function(){var b=this.vars;b.bkgElement.fadeOut(function(){b.bkgElement.remove()}),Site.isMobile()?b.popupElement.animate({top:"100%"},function(){b.popupElement.hide().css("top",0)}):b.popupElement.fadeOut(),a.isFunction(this.options.afterHide)&&this.options.afterHide.call(this),clearTimeout(m),m=null};c.prototype={init:function(){var b=this,c=b.options;b.vars={isInited:!1,isWaiting:!0,arrCloneImages:[],numImagesLoaded:0,imageIndex:0,bkgElement:a(i),popupElement:a(c.galleryPopupSelector,b.element),imageSlider:a(this.options.sliderImageSelector,b.element),thumbSlider:a(this.options.sliderThumbSelector,b.element),sliderID:null},b.vars.popupElement.appendTo("body").hide(),a(c.thumbItemSelector,b.element).on("click."+d,function(){if(c.gallerySource.length){var d=a(this).index();return b.vars.imageIndex=d,b.vars.isInited?u.call(b):n.call(b),!1}}).find("a").on("click."+d,function(a){a.preventDefault()}),a(c.closePopupSelector).on("click."+d,function(){return v.call(b),!1}),e.on("resize."+d,function(){b.vars.popupElement.is(":visible")&&h.hasClass("iphone")&&e.scrollTop(0),setTimeout(function(){t.call(b)},l)})},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={slidesToShowSlide:1,slidesToScrollSlide:1,arrowsSlide:!0,fadeSlide:!0,infinite:!1,inactiveTimeout:4e3,slidesToShowNav:8,slidesToScrollNav:1,centerModeNav:!0,centerPaddingNav:0,focusOnSelectNav:!0,gallerySource:"",timeoutLoading:1e3,headerSelector:".close-gallery",thumbWrapperSelector:".gallery-thumb",thumbItemSelector:".thumb-image",sliderImageSelector:".slider-for",sliderThumbSelector:".slider-nav",galleryPopupSelector:".popup-gallery",closePopupSelector:".close-gallery",classThumbActive:"photo-active",renderSuccessCallback:null},a(function(){var b=a("#container"),c=b.length>0?b.children():a("#main").children(),e="hidden",f="already-hidden",g={renderSuccessCallback:function(){a("[data-share-button]").shareButton()},beforeShow:function(){c.each(function(){var b=a(this);b.hasClass(e)?b.addClass(f):b.addClass(e)})},afterHide:function(){c.filter(":not(."+f+")").removeClass(e),c.removeClass(f)}};a("[data-"+d+"]")[d](g)})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="load-more",e=function(){var b=this.options,c=a(b.itemSelector+":not(."+b.ignoreClass+")."+b.hiddenClass,this.element);return c},f=function(){var b=this.options,c=a(b.itemSelector+":not(."+b.ignoreClass+")",this.element);return c};c.prototype={init:function(){var b=this;b.vars={triggerElement:a(b.options.triggerSelector,b.element)},b.hideItems(),b.loadMore(),b.vars.triggerElement.on("click."+d,function(){var c=a(this),d=c.closest("[data-mymasonry]");b.loadMore(),d.length&&d.masonry()})},hideItems:function(){var b=this.options,c=a(b.itemSelector,this.element);c.addClass(b.hiddenClass),a.isFunction(b.loadedMoreCallback)&&b.loadedMoreCallback()},loadMore:function(){var b=this.options,c=e.call(this).slice(0,b.numberMore),d=f.call(this);c.length&&(c.removeClass(b.hiddenClass).hide().fadeIn(),a.isFunction(b.loadedMoreCallback)&&(c=e.call(this),b.loadedMoreCallback(this.element,c.length))),!d.length&&a.isFunction(b.zeroResultCallback)?b.zeroResultCallback.call(this):!c.length&&a.isFunction(b.noMoreResultCallback)&&b.noMoreResultCallback.call(this)},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={numberMore:5,itemSelector:".item",triggerSelector:".load-more-trigger",hiddenClass:"hidden",ignoreClass:"ignore-item",loadedMoreCallback:null,noMoreResultCallback:null},a(function(){a("[data-"+d+"]")[d]();var c=a(".card-container"),e=".card-item:not(.control-result)",f=a(".card-container[data-mymasonry]"),g=a(".zero-result",c),h=a(".no-more-result",c),i=a(".load-more-trigger",c),j={ignoreClass:"no-filter",itemSelector:e,loadedMoreCallback:function(c,d){var e="",g=a(".desc",i),h=a("a.load-more",i);c&&(e=1===d?c.data("result-type"):c.data("result-type-plural"),e=e?e:""),a("span.num",g).html(d),a("span.result",g).html(e),a("span:first",h).html(e),h.attr("title",h.text()),f.length&&!Site.isMobile()&&(b.curScrollTop=a(b).scrollTop(),f.mymasonry("restart"))},noMoreResultCallback:function(){var a=this.element;a.find(h).removeClass("hidden"),a.find(g).addClass("hidden"),a.find(i).addClass("hidden"),f.length&&!Site.isMobile()&&f.mymasonry("restart")},zeroResultCallback:function(){var c=this.element;c.find(h).addClass("hidden"),c.find(i).addClass("hidden"),c.find(g).removeClass("hidden"),g.off("click."+d).on("click."+d,function(){a(b).trigger("resetFilter")}),f.length&&!Site.isMobile()&&f.mymasonry("restart")}};c[d](j),a(".back-top",h).on("click",function(){var b=Site.isMobile(),d=b?a("#navbar-header").outerHeight():a("#main-nav").outerHeight(),e=b?80:30;a("html, body").animate({scrollTop:c.offset().top-d-e},400)});var k=a("[data-team]"),l=a('<div class="text-center show-more"><a href="#" class="btn-tertiary">'+b.L10n.text.moreteam+'<span class="wi-icon icon-arrow"></span></a></div>'),m=k.find(".text-image"),n=10;m.length>n&&(m.filter(":gt("+(n-1)+")").hide(),l.insertAfter(m.last()),k.on("click."+d,".btn-tertiary",function(b){b.preventDefault(),m.filter(":hidden").fadeIn(function(){a(this).removeAttr("style")}),a(this).parent().remove()})),a(b).on("filterHandlerChanged",function(b,f){if(b.target){var k=a(f),l=a("[data-type]",k),m=a("p.num-cards"),n=0,o=a(e,c).removeClass(j.ignoreClass).addClass("hidden");l.each(function(){var b=a(this),d=[],e=b.data("type"),f=a(":checked, :selected, :text",b);f.each(function(){d.push(a(this).val())}),b.data("filter-data",d),o.each(function(){var b=a(this),c=b.data("filter-"+e)||"",f=!1;"related-profession"===e&&-1!==d.indexOf("allprofessions")||"finance"===e&&-1!==d.indexOf("allcate")||"related-product"===e&&-1!==d.indexOf("allproduct")||"state"===e&&-1!==d.indexOf("allstates")||"related-profession"!==e&&"finance"!==e&&"related-product"!==e&&"state"!==e||0!==c.length&&(c=c.split("|"),c.length>0&&c.forEach(function(a){-1!==d.indexOf(a)&&(f=!0)}),0!==c.length&&f||b.addClass(j.ignoreClass))}),m.length>0&&(n=o.filter(":not(."+j.ignoreClass+")").length,a("span",m).eq(0).text(n),1>=n?a("span",m).eq(1).text(c.data("result-type")):a("span",m).eq(1).text(c.data("result-type-plural")),m.show())}),setTimeout(function(){a(".card-item:not(."+j.ignoreClass+")",c).length>0&&(h.addClass("hidden"),g.addClass("hidden"),i.removeClass("hidden")),c[d]("loadMore")},200)}})})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[e].defaults,this.element.data(),c),this.init()}var d=a(b),e="mymasonry",f=null,g=400;c.prototype={init:function(){var b=this,c=this.options,e=this.element,h=b.element.masonry(b.options);h.on("layoutComplete",function(){var b=a(".card-item.load-more-trigger:visible, .card-item.no-more-result:visible"),d=0,f=0,g=e.offset().left,h=e.offset().top,i=e.outerWidth(),j=e.outerHeight(),k=15,l=20,m=40,n=0,o={top:0,left:0,item:null,height:0},p=function(a,b,c){void 0!==c&&null!==c&&(o={top:a,left:b,item:c,height:c.height()})};b.length&&(e.find(c.itemSelector+":visible").each(function(){var b=a(this),c=b.offset().top,d=b.offset().left;d>=o.left&&(d>o.left?p(c,d,b):c>o.top&&p(c,d,b))}),null!==o.item&&(d=o.left-g,2*i/3>d+k?(d=d+o.item.width()+k,f=0):f=o.top-h+o.height+l,b.css({left:d,top:f}),n=f+b.height()+m,setTimeout(function(){j=e.outerHeight(),n>j&&e.height(n+l)},300)))});var i=e.find("img");i.length&&i.each(function(){var a=this;a.onload=function(){b.restart()},a.onerror=function(){b.restart()}}),d.on("resize",function(){clearTimeout(f),f=setTimeout(function(){Site.isMobile()||b.restart()},g)})},restart:function(){var a=this,b=a.element.height();a.element.masonry("destroy").css("height",b).masonry(a.options)},destroy:function(){this.element.masonry("destroy"),a.removeData(this.element[0],e)}},a.fn[e]=function(d,f){return this.each(function(){var g=a.data(this,e);g?g[d]?g[d](f):b.console&&console.log(d?d+" method does not exist in "+e:e+" plugin has been initialized"):a.data(this,e,new c(this,d))})},a.fn[e].defaults={gutter:".gutter-sizer",columnWidth:".grid-sizer",itemSelector:".block-item",percentPosition:!0,onInitComplete:""},a(function(){var c=b.Site.isMobile()?"mobile":"desktop";a("[data-"+e+"]").not("[data-desktop-only]")[e](),"desktop"===c&&a("[data-"+e+"][data-desktop-only]")[e](),d.on("resize."+e,function(){var d=b.Site.isMobile()?"mobile":"desktop";c!==d&&("desktop"===c?(a("[data-"+e+"][data-desktop-only]")[e]("destroy"),c="mobile"):"mobile"===c&&(a("[data-"+e+"][data-desktop-only]")[e](),c="desktop"))})})}(jQuery,window),function(a,b,c){"use strict";function d(b,c){this.element=a(b),this.options=a.extend({},a.fn[e].defaults,this.element.data(),c),this.init()}var e="navigation";d.prototype={init:function(){this.target=a(this.element.data(e)),this.isTransitioning=!1,this.element.on("click.navigationToggle",a.proxy(function(a){a.preventDefault(),this.toggleNav()},this))},expand:function(){var b=this,c=this.options,d=this.target,e=b.element;d.hasClass(c.classExpanded)||b.isTransitioning||(b.isTransitioning=!0,e.addClass(c.classActive),d.fadeIn(c.duration,function(){a(this).addClass(c.classExpanded).removeAttr("style"),b.isTransitioning=!1}),e.trigger("expandNav"))},collapse:function(b){var c=this,d=this.options,e=this.target,f=c.element;e.hasClass(d.classExpanded)&&!c.isTransitioning&&(f.removeClass(d.classActive),b?e.hide().removeClass(d.classExpanded).removeAttr("style"):(c.isTransitioning=!0,e.fadeOut(d.duration,function(){a(this).removeClass(d.classExpanded).removeAttr("style"),c.isTransitioning=!1})),f.trigger("collapseNav"))},toggleNav:function(){this.target.hasClass(this.options.classExpanded)?this.collapse():this.expand()},destroy:function(){this.element.off("click.navigationToggle"),a.removeData(this.element[0],e)}},a.fn[e]=function(c,f){return this.each(function(){var g=a.data(this,e);g?g[c]?g[c](f):b.console&&console.log(c?c+" method does not exist in "+e:e+" plugin has been initialized"):a.data(this,e,new d(this,c))})},a.fn[e].defaults={duration:500,classExpanded:"in",classActive:"active"},a(function(){var d=a(b),f=a("#header"),g="sticky",h="sticky-xs",i=a("#container"),j=a("html,body"),k=a("#navbar-header"),l=a("[data-hide-nav]"),m=a("#main"),n=0,o=!1,p=a("input"),q=a('#main-nav .main-menu > li:not(".logo-sticky")'),r=a(document),s=a("[data-welcome-back]"),t=function(){i.addClass(h),m.children().hide(),l.hide()},u=function(){m.children().show(),l.show(),d.trigger("resize.sameheight")},v=function(a){o?f.css({position:"absolute",top:a}):f.css("position","")},w=function(){if(c.isMobile())f.add(m).removeAttr("style"),i.removeClass(g),v(d.scrollTop());else{i.removeAttr("style").removeClass(h),u();var a=s.is(":hidden")?0:s.outerHeight(!0),b=k.outerHeight(!0)+a;d.scrollTop()>=b?(f.css("top",-b),m.css("marginTop",f.outerHeight(!0)),i.addClass(g),c.canTouch&&v(d.scrollTop()-b)):(f.css("top",""),m.css("marginTop",""),i.removeClass(g))}};p.off("blur focus").on("focus",function(){o=!0}).on("blur",function(){o=!1}),a("[data-"+e+"]")[e]().on("expandNav",function(){n=a("body").scrollTop(),t()}).on("collapseNav",function(){i.removeAttr("style").removeClass(h),u(),j.scrollTop(n)}),d.on("scroll."+e,function(){w()}).on("resize."+e,function(){w(),c.isMobile()||a("[data-"+e+"]")[e]("collapse",!0)}),q.off("click.return").on("click.return",function(b){if(c.isTablet()){var d=a(this);b.preventDefault(),d.hasClass("active")?d.removeClass("active"):(q.removeClass("active"),d.addClass("active"))}}),r.off("touchstart.return").on("touchstart.return",function(b){a(b.target).closest(q).length||q.removeClass("active"),a(b.target).is("input")||o&&p.blur()}),a("[data-footer-mobile]").html(a("[data-mobile-bottom]").clone()),a("[data-header-mobile]").html(a("[data-mobile-top]").clone())})}(jQuery,window,Site),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="newWindow",e="width={{windowWidth}}, height={{windowHeight}}, top={{windowTop}}, left={{windowLeft}}, titlebar={{titleBar}}, status={{windowStatus}}, location={{windowLocation}}, menubar={{menuBar}}, scrollbars={{scrollBar}}, resizable=yes",f=function(){return{left:b.screenX||b.screenLeft,top:b.screenY||b.screenTop,width:b.outerWidth,height:b.outerHeight}};c.prototype={init:function(){var c=this;this.element.on("click."+d,function(){var d=a(this),g=f();if(Site.isMobile())b.open(d.attr("href"),"_blank");else{var h=e.replace("{{windowWidth}}",c.options.windowWidth).replace("{{windowHeight}}",c.options.windowHeight).replace("{{titleBar}}",c.options.titleBar).replace("{{windowStatus}}",c.options.windowStatus).replace("{{windowLocation}}",c.options.windowLocation).replace("{{menuBar}}",c.options.menuBar).replace("{{scrollBar}}",c.options.scrollBar);if(c.options.isCenter){var i=g.top+(g.height-c.options.windowHeight)/2,j=g.left+(g.width-c.options.windowWidth)/2;h=h.replace("{{windowLeft}}",j).replace("{{windowTop}}",i)}else h=h.replace("{{windowLeft}}",c.options.windowLeft).replace("{{windowTop}}",c.options.windowHeight);b.open(d.attr("href"),"",h)}return!1}),a(b).on("resize."+d,function(){f.call(c)})},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={windowWidth:1015,windowHeight:670,windowTop:200,windowLeft:0,isCenter:1,titleBar:0,windowStatus:0,windowLocation:0,menuBar:0,scrollBar:1},a(function(){var b={};a("[data-"+d+"]")[d](b)})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="popin";c.prototype={init:function(){var b=this;b.vars={contentElement:a(b.options.contentSelector,b.element)},b.element.hide(),this.options.showonload&&this.show(),b.vars.contentElement.on("webkitTransitionEnd."+d+" otransitionend."+d+" oTransitionEnd."+d+" msTransitionEnd."+d+" transitionend."+d,function(){b.element.hasClass(b.options.classShowAnimate)?a.isFunction(b.options.onShown)&&b.options.onShown():(b.element.hide(),a.isFunction(b.options.onHidden)&&b.options.onHidden())}),a(b.options.closeButtonSelector,b.element).on("click."+d,function(){b.hide()})},show:function(){var a=this;a.element.show(),setTimeout(function(){a.element.addClass(a.options.classShowAnimate)},200)},hide:function(){var a=this,b=a.element;b.removeClass(a.options.classShowAnimate),b.hasClass("remove-when-hide")&&b.remove()},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={contentSelector:".modal-dialog",closeButtonSelector:".close, .btn-cancel",classShowAnimate:"show-animate",showonload:!1,onShown:null,onHidden:null},a(function(){a("[data-"+d+"]")[d]();var c=a("#submit-success");a("button",c).on("click."+d,function(){var a=b.location.href.split("?")[0];b.location.replace(a)}),a("#contact-button").on("click."+d,function(){a(".contact-popup")[d]("show")}),a("[data-show-event-registration]").on("click."+d,function(){var b=a(this),c=b.data("title")||"",e=b.data("event-page")||"",f=b.data("start-date")||"",g=b.data("end-date")||"",h=b.data("time")||"",i=a(".register-popup"),j=i.find(".desc p.time"),k=i.find(".icon-time");i[d]("show"),i.find(".modal-header .wrap-error").addClass("hidden").end().find("[data-validation] .error").removeClass("error").end().find("[data-validation] .wrap-error").remove().end().find(".modal-title .event-name").html(" "+c).end().find('input[name="eventName"]').val(c).end().find('input[name="eventPage"]').val(e).end().find('input[name="eventStartDate"]').val(f).end().find('input[name="eventEndDate"]').val(g).end().find(".desc p.time").html(h),h?j.add(k).show():j.add(k).hide()})})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="popover",e=function(a){var b=a.options,c=a.vars.popover,d=0,e=0,f=a.element,g=a.vars.trigger,h=f.outerWidth(),i=f.outerHeight(),j=b.placement,k={top:0,left:0},l=f.offset(),m="none",n=b.offsetleft,o=b.offsettop;switch(f.data("showed")&&(m="block"),f.is(":hidden")&&!g.is(":hidden")&&(l=g.offset(),j=b.placementtrigger,h=g.outerWidth(),i=g.outerHeight(),n=b.triggeroffsetleft,o=b.triggeroffsettop),c.css({opacity:0,display:"block"}),d=c.outerWidth(),e=c.outerHeight(),c.css({opacity:1,display:m}),j){case"top":k.top=l.top-e-o,k.left=l.left-n;break;case"left":k.top=l.top-o,k.left=l.left-d-n;break;case"right":k.top=l.top-o,k.left=l.left+h+n;break;case"bottom":k.top=l.top+i+o,k.left=l.left-n}return k},f=function(a){if(a){var b=e(a);a.vars.popover.css({top:b.top,left:b.left})}},g=[],h=[];c.prototype={init:function(){var c=this,e=this.options;this.vars={popover:a(e.template).hide().appendTo(e.container),trigger:a(e.trigger)},this.element.off("click."+d).on("click."+d,function(b){b.preventDefault(),b.stopPropagation();var d=a(this).data("showed");d?c.hide():c.show()}),this.vars.trigger.off("click."+d).on("click."+d,function(a){a.preventDefault(),a.stopPropagation();var b=c.element.data("showed");b?c.hide():c.show()}),this.vars.popover.off("click."+d,e.close).on("click."+d,e.close,function(a){a.preventDefault(),c.hide()}),a(b).on("resize."+d,function(){f(a("[data-"+d+"].active").data(d))}),a(document).off("click."+d).on("click."+d,function(b){var d=a(b.target);d.closest("[data-popover-template]").length||c.hide()}),e.autoshow&&this.show()},show:function(){var b=this.options;f(this),this.hide(),a.isFunction(b.onBeforeShow)&&b.onBeforeShow(),this.vars.popover.fadeIn(b.duration,function(){var c=a(this);a.isFunction(b.onAfterShow)&&b.onAfterShow(),a(this).find(".btn-reset-filters").off("click.popover").on("click.popover",function(){c.fadeOut(b.duration)})}),this.element.data("showed",!0).addClass("active"),g=this.vars.popover,h=this.element},hide:function(){if(h.length){var b=h.data(d),c=b.options;g.length&&(a.isFunction(c.onBeforeHide)&&c.onBeforeHide(),g.fadeOut(this.options.duration,function(){a.isFunction(c.onAfterHide)&&c.onAfterHide(),c.removewhenclose&&a(this).remove()}),h.data("showed",!1).removeClass("active"),g=[],h=[])}},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={placement:"right",placementtrigger:"right",container:"body",close:".close",removewhenclose:!1,trigger:"",offsettop:0,offsetleft:0,triggeroffsetleft:0,triggeroffsettop:0,template:'<div class="popover" data-popover-template></div>',duration:200,autoshow:!1,onBeforeShow:null,onAfterShow:null,onBeforeHide:null,onAfterHide:null},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="ribbon",e=function(a,b){var c=a.attr("class").replace(/\b\svisible-block-\d\b/g,"");a.attr("class",c).addClass(this.options.visiblePrefix+b)},f=function(c){Site.isMobile()?c.find("picture").each(function(){a(this).attr("style","")}):c.find("picture").each(function(){var c=a(this),d=c.find("img"),e=a('<img src="'+d.attr("src")+'" style="visibility: hidden"/>');a("body").append(e),function(c,e){e.on("load",function(){d=a(this),c.css({"margin-left":-(d.outerWidth()/2)}).show(),d.outerWidth()>a(b).width()&&c.addClass("large"),e.remove()})}(c,e)})};c.prototype={init:function(){var c=this,g=this.options,h=this.element,i=h.find(g.ribbonClass),j=h.find(g.pictureClass);i.each(function(){var b=a(this),f=i.index(b)+1;a(this).find("a").on("mouseenter."+d+", focusin."+d).on("mouseenter."+d+", focusin."+d,function(){e.call(c,j,f)}).off("mouseleave."+d).on("mouseleave."+d,function(){e.call(c,j,0)})}),f(j),a(b).on("resize.ribbon",function(){f(j)})}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={ribbonClass:".ribbon-box",pictureClass:".picture-block",visiblePrefix:"visible-block-"},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,this.element.data(),c),this.init()}var d="sameheight",e=a(b),f=function(){var b=0;this.vars.blocks.css("height","").each(function(){b=Math.max(b,a(this).outerHeight())}),this.vars.blocks.css("height",b)};c.prototype={init:function(){var b=this;b.vars={blocks:a(b.options.block,b.element)},e.on("resize."+d,a.proxy(f,b)).trigger("resize."+d)},destroy:function(){e.off("resize."+d),a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={block:"[data-item]"},a(function(){a("[data-"+d+"]")[d]()})}(jQuery,window),function(a){"use strict";a(function(){var b=a("[data-input-focus]"),c="[data-input-content]",d="focused";b.off("focus").on("focus",function(){a(this).closest(c).addClass(d)}).off("blur").on("blur",function(){a(this).closest(c).removeClass(d)})})}(jQuery),function(a,b){"use strict";function c(b){this.element=a(b),this.init()}var d="shareButton",e="[data-share-button]";c.prototype={init:function(){var a=this.element.data(),c=this.element.data("ind"),d={title:b.L10n.shareButton.title,networks:{google_plus:{enabled:!0,url:a.url},twitter:{enabled:!0,url:a.url,description:a.description},facebook:{enabled:!0,load_sdk:!1,url:a.url,title:a.title,description:a.description,image:a.image},pinterest:{enabled:!0,url:a.url,image:a.image,description:a.description},email:{enabled:!0,title:a.title,description:a.description}}};void 0!==c?this.shareButton=new b.Share('[data-ind="'+c+'"]',d):this.shareButton=new b.Share(e,d)},destroy:function(){a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={},a(function(){a(e)[d]()})}(jQuery,window),function(a,b,c){"use strict";function d(b,c){this.element=a(b),this.options=a.extend({},a.fn[e].defaults,this.element.data(),c),this.init()}var e="tabs",f=null,g=function(b,c){var d=this.options,e=this.vars.listTabContent.find(b),f=e.data("mymasonry")?e:e.find("[data-mymasonry]");e.css({display:"block",opacity:0}),f.length&&f.masonry("resize"),a.isFunction(d.onBeforeAction)&&d.onBeforeAction(c),this.vars.listTabContent.find(b).animate({opacity:1},d.duration,function(){a(this).addClass(d.classActive).removeAttr("style")}).siblings().stop().removeClass(d.classActive).hide().removeAttr("style")},h=function(){var a=this.vars,b=this.options;a.listTabLinks.parent().hasClass(b.moreTwoTabs)&&a.listTabLinks.parent().toggleClass(b.classExpend)},i=function(){var a=this.vars.win.scrollTop();return a>=this.vars.topEle-this.vars.headerHeight&&a<=this.vars.topEle+this.element.outerHeight()-this.vars.heightTabLink},j=function(){var b=this.options,d=this.vars,e=function(){d.listTabContent.removeAttr("style"),d.listTabLinks.closest(b.wrapTabLinks).removeAttr("style").css("position","relative")};return c.isMobile()?(this.vars.headerHeight=a("header").outerHeight(),void(i.call(this)?(d.listTabContent.css("padding-top",d.heightTabLink),d.listTabLinks.closest(b.wrapTabLinks).css({position:"fixed",top:d.headerHeight,width:d.widthEle,"z-index":1})):e())):void e()},k=function(a){var c=a.replace(/^.*#/,""),d=document.getElementById(c);
d.id=c+"-tmp",b.location.hash=a,d.id=c},l=function(){var a,c,d=this,e=this.options,f=b.location.hash;a=this.vars.listTabLinks.find("li").eq(e.defaultTab),c=a.children("a").attr("href"),f&&e.isHash&&this.element.find(f).length&&(c=f,a=this.vars.listTabLinks.find("li").has('a[href="'+c+'"]')),a.addClass(e.classActive).siblings().removeClass(e.classActive),d.vars.toggleTab.text(this.vars.listTabLinks.find('a[href="'+c+'"]').text()),g.call(d,c,!0)};d.prototype={init:function(){var d,g,i=this,k=100,m=this.options;this.vars={listTabLinks:i.element.find(m.tabLinks),listTabContent:i.element.find(m.tabContents),toggleTab:i.element.find(m.tabToggle),win:a(b),heightEle:i.element.height(),widthEle:i.element.width(),topEle:i.element.offset().top,headerHeight:0,curScreen:c.isMobile()?"mobile":"desktop"},i.vars.heightTabLink=i.vars.listTabLinks.outerHeight(),i.vars.bottomEle=i.vars.topEle+i.vars.heightEle,void 0===this.element.data("tabs-author")?(l.call(this),this.changeTab()):(g=this.vars.listTabLinks.find("li.active"),d=g.children("a").attr("href"),this.vars.toggleTab.text(this.vars.listTabLinks.find('a[href="'+d+'"]').text())),this.vars.win.on("scroll."+e,function(){j.call(i)}).on("resize."+e,function(){i.vars.heightEle=i.element.height(),i.vars.widthEle=i.element.width(),i.vars.topEle=i.element.offset().top,i.vars.heightTabLink=i.vars.listTabLinks.height(),i.vars.bottomEle=i.vars.topEle+i.vars.heightEle,i.vars.listTabLinks.closest(m.wrapTabLinks).css({width:i.vars.widthEle}),clearTimeout(f),f=setTimeout(function(){j.call(i)},k)}),this.vars.toggleTab.on("click."+e,function(a){a.preventDefault(),h.call(i)})},changeTab:function(){var b=this,d=this.options;this.vars.listTabLinks.on("click."+e,"li a",function(e){var f=a(this),j=f.attr("href"),l=b.options;a(this).closest(d.wrapTabLinks).toggleClass("expanded"),e.preventDefault(),f.parent().hasClass("active")||(b.element.find(d.tabToggle).html(f.find(".tab-title").html()),f.parent("li").addClass(l.classActive).siblings().removeClass(l.classActive),c.isMobile()&&i.call(b)&&a("html, body").animate({scrollTop:b.vars.topEle-2*b.vars.headerHeight},300),g.call(b,j),void 0===b.vars.toggleTab&&(b.vars.toggleTab.text(f.text()),h.call(b)),l.isHash&&k(j))})},destroy:function(){this.vars.listTabLinks.off("click."+e,"li a"),this.vars.win.off("scroll."+e).off("resize."+e),this.vars.toggleTab.off("click."+e),a.removeData(this.element[0],e)}},a.fn[e]=function(c,f){return this.each(function(){var g=a.data(this,e);g?g[c]?g[c](f):b.console&&console.log(c?c+" method does not exist in "+e:e+" plugin has been initialized"):a.data(this,e,new d(this,c))})},a.fn[e].defaults={duration:400,defaultTab:0,isHash:!0,wrapTabLinks:".tabs",tabLinks:".list-tabs",tabContents:".tabs-content",tabToggle:".tab-active",moreTwoTabs:"more-two-tabs",classActive:"active",classExpend:"expanded",classFixListTab:"fixed-list-tab",onAfterAction:null,onBeforeAction:null},a(function(){var d=a("[data-mymasonry]"),g=function(){d.mymasonry("restart")},h={onBeforeAction:function(a){c.isMobile()||(clearTimeout(f),a?f=setTimeout(function(){g()},300):g())}};if(a("[data-"+e+"]")[e](h),d.length){var i=0,j=function(){d.masonry(),i++,10>i&&setTimeout(j,1500)};j(),a(b).on("load.updateMasonry",function(){d.masonry()})}})}(jQuery,window,Site),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[e].defaults,this.element.data(),c),this.init()}var d={COUNTER:"counter",CIRCLE:"circle"},e="table-content",f="toc",g=b.gajus.Contents;c.prototype={init:function(){var b=this,c=b.options,e={articles:a(c.wrapperContent+" :header:not(."+c.ignoreClass+")").get(),link:c.linkBehavior};b.vars={contents:new g(e),list:null},b.vars.tocTypeClass=c.tocType===d.CIRCLE?c.circleListClass:c.counterListClass,b.vars.list=a(b.vars.contents.list()).addClass(b.vars.tocTypeClass),a("li",b.vars.list).each(function(){var b=a(this);b.parents("ol").length>c.tocLevel&&b.remove()}),b.element.append(b.vars.list),b.vars.contents.eventEmitter().on("change."+f,function(){a.isFunction(c.onChangeCallback)&&c.onChangeCallback()}),b.vars.contents.eventEmitter().on("scroll."+f,function(){a.isFunction(b.options.onScrollCallback)&&c.onScrollCallback()}),b.vars.contents.eventEmitter().on("resize."+f,function(){a.isFunction(c.onChangeCallback)&&c.onResizeCallback()}),b.vars.contents.eventEmitter().trigger("resize."+f)},destroy:function(){a.removeData(this.element[0],e)}},a.fn[e]=function(d,f){return this.each(function(){var g=a.data(this,e);g?g[d]?g[d](f):b.console&&console.log(d?d+" method does not exist in "+e:e+" plugin has been initialized"):a.data(this,e,new c(this,d))})},a.fn[e].defaults={wrapperContent:"#main",ignoreClass:"dont-show-in-toc",counterListClass:"counter-list",circleListClass:"circle-list",tocType:"counter",tocLevel:3,onChangeCallback:null,onScrollCallback:null,onResizeCallback:null,linkBehavior:function(b,c){var d,e,h;b=a(b),d=a("<a>"),e=c.name,h=e||g.id(e),d.text(e).attr("href","#"+h).appendTo(b),a(b).on("click."+f,function(b){a("html, body").animate({scrollTop:a(c.element).offset().top},400),b.stopPropagation()})}},a(function(){a("[data-"+e+"]")[e]()})}(jQuery,window),function(a,b){"use strict";function c(b,c){this.element=a(b),this.options=a.extend({},a.fn[d].defaults,c),this.init()}var d="validation",e=b.L10n.validator,f=new RegExp("^[A-Za-z0-9\\+]+([_A-Za-z0-9-]*[_A-Za-z0-9]+)*(\\.[_A-Za-z0-9-]*[_A-Za-z0-9]+)*@[A-Za-z0-9]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"),g=new RegExp("^(https?://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$"),h=new RegExp("^-?(?:d+|d{1,3}(?:,d{3})+)?(?:.d+)?$"),i=new RegExp("^[0-9]{1,}$"),j=new RegExp("^[+]?[0-9]{1,}$"),k=function(b){b=a(b);var c=b.data(),d=[];delete c.errors;var f=Object.keys(c);f.forEach(function(a){c.hasOwnProperty(a)&&-1===a.indexOf("Message")&&-1===a.indexOf("-message")&&d.push(a)});var g=a.inArray(e.required.name,d);g>0&&(d.splice(g,1),d.unshift(e.required.name));var h=a.inArray(e.equalto.name,d);h>0&&(d.splice(h,1),d.push(e.equalto.name)),d.forEach(function(a){m(b,a,d)})},l=function(a,b){var c=!1;"string"==typeof b&&(b=b.replace(/[\[\]]/g,"").split(/[\s,]+/));var d=parseInt(b[0],10),e=parseInt(b[1],10);return c=!isNaN(a)&&!isNaN(d)&&!isNaN(e)&&a>=d&&e>=a,[c,d,e]},m=function(b,c,d){var k=b.val(),m=!1,n=b.data(c+"Message")||e[c].msg,o=b.data("errors")||[];b.data("errors",[]);var p,q,r,s,t,u;switch(c){case e.required.name:b.is(":password")||(k=a.trim(k)),b.is(":radio")||b.is(":checkbox")?(p=a('[name="'+b.attr("name")+'"]'),p.filter(":checked").length&&(m=!0,p.not(b).removeData("errors"))):m=!!k.length;break;case e.phonenumber.name:m=void 0!==b.data(e.required.name)?k.length&&j.test(k):k.length?j.test(k):!0;break;case e.email.name:m=void 0!==b.data(e.required.name)?k.length&&f.test(k):k.length?f.test(k):!0;break;case e.url.name:m=void 0!==b.data(e.required.name)?k.length&&g.test(k):k.length?g.test(k):!0;break;case e.number.name:m=void 0!==b.data(e.required.name)?k.length&&h.test(k):k.length?h.test(k):!0;break;case e.digits.name:m=void 0!==b.data(e.required.name)?k.length&&i.test(k):k.length?i.test(k):!0;break;case e.equalto.name:q=b.data(e.equalto.name),r=a("#"+q),m=k===r.val(),-1!==a.inArray(e.required.name,d)&&(m=m&&k.length),n=n.format(q);break;case e.max.name:k=parseFloat(k),m=k<parseFloat(b.data(e.max.name));break;case e.min.name:k=parseFloat(k),m=k>parseFloat(b.data(e.min.name));break;case e.maxlength.name:m=k.length<parseInt(b.data(e.maxlength.name),10);break;case e.minlength.name:m=k.length>parseInt(b.data(e.minlength.name),10);break;case e.range.name:s=l(parseInt(k,10),b.data(e.range.name)),m=s[0],n=n.format(s[1],s[2]);break;case e.rangelength.name:t=l(k.length,b.data(e.rangelength.name)),m=t[0],n=n.format(t[1],t[2]);break;case e.pattern.name:u=new RegExp(b.data(e.pattern.name),"gi"),m=void 0!==b.data(e.required.name)?k.length&&u.test(k):k.length?u.test(k):!0}if(m){var v=a.inArray(n,o);-1!==v&&(o.splice(v,1),b.data("errors",o))}else-1===a.inArray(n,o)&&(o.push(n),b.data("errors",o))},n=function(b){var c=[];b.vars.fields.each(function(){var b=a(this),d=b.data("errors");d&&c.push({element:b,errors:d}),b.trigger("errorRendering",d)}),a.isFunction(b.options.onError)?b.options.onError.call(null,c):b.vars.container.length?o(b,c):p(b,c)},o=function(a,b){var c,d,e=[];b.forEach(function(b){c=b.element,d=c.closest(a.options.closestEl),d.length||(d=c),b.errors.length?(d.addClass(a.options.errorClass),e.push("<p>"+b.errors[0]+"</p>")):d.removeClass(a.options.errorClass).addClass(a.options.successClass)}),a.vars.container.empty().html(e.join(""))},p=function(b,c){var d,e,f;c.forEach(function(c){d=c.element,e=d.closest(b.options.closestEl),f=e.find(b.vars.labelClass),e.length||(e=d,f=e.nextAll(b.vars.labelClass)),c.errors.length?(e.addClass(b.options.errorClass),f.length?f.html(b.options.errorTemplate.format(c.errors[0])).show():(f=a('<div class="'+b.options.labelClass+'">'+b.options.errorTemplate.format(c.errors[0])+"</div>"),e.is(d)||!b.options.errorAppendTo?e.after(f):e.find(b.options.errorAppendTo).length?f.appendTo(e.find(b.options.errorAppendTo)):f.appendTo(e))):(e.removeClass(b.options.errorClass).addClass(b.options.successClass),f.empty().hide())})},q=function(b,c){c.on("change."+d+" blur."+d,function(){k(this),n(b),a.isFunction(b.options.onChange)&&b.options.onChange.call(b)})};c.prototype={init:function(){var b=this;b.vars={fields:a(),container:a(b.options.container)},b.element.attr("novalidate",!0),a.isFunction(b.options.onBeforeInit)&&b.options.onBeforeInit.call(b,b.element);var c,f=Object.keys(e);f.forEach(function(d){e.hasOwnProperty(d)&&(c=a("[data-"+d+"]",b.element),c.length&&(b.vars.fields=b.vars.fields.add(c)))}),b.vars.labelClass="."+b.options.labelClass.split(/[\s,]+/).join("."),b.options.isValidOnChange&&q(b,b.vars.fields),b.element.on("submit."+d,function(){a.isFunction(b.options.onBeforeSubmit)&&b.options.onBeforeSubmit(),b.vars.fields.each(function(){k(this)}),n(b);var c;return c=!a("."+b.options.errorClass,b.element).length,a.isFunction(b.options.onAfterSubmit)?b.options.onAfterSubmit.call(b,c):c})},attach:function(b){var c,d,e,f,g=this,h=Object.keys(b);h.forEach(function(h){b.hasOwnProperty(h)&&(c=a('[name="'+h+'"]',g.element),d=b[h],e=Object.keys(d.rules),e.forEach(function(a){d.rules.hasOwnProperty(a)&&c.data(a,d.rules[a])}),f=Object.keys(d.messages),f.forEach(function(a){d.messages.hasOwnProperty(a)&&c.data(a+"-message",d.messages[a])}),c.length&&(q(g,c),g.vars.fields=g.vars.fields.add(c)))})},detach:function(b){var c,e,f=Object.keys(b),g=this;f.forEach(function(f){b.hasOwnProperty(f)&&(c=a('[name="'+f+'"]',g.element),e=b[f].split(/[\s,]+/),e.forEach(function(a){c.removeData(a),c.removeAttr("data-"+a),c.removeData(a+"Message"),c.removeAttr("data-"+a+"-message"),c.off("change."+d+" blur."+d)}))})},destroy:function(){this.vars.fields.off("change."+d+" blur."+d),this.vars.fields.each(function(){a(this).removeData("errors")}),this.element.off("submit."+d),a.removeData(this.element[0],d)}},a.fn[d]=function(e,f){return this.each(function(){var g=a.data(this,d);g?g[e]?g[e](f):b.console&&console.log(e?e+" method does not exist in "+d:d+" plugin has been initialized"):a.data(this,d,new c(this,e))})},a.fn[d].defaults={closestEl:".form-group",successClass:"success",errorClass:"error",labelClass:"wrap-error",errorTemplate:"{0}",errorAppendTo:null,container:null,isValidOnChange:!0,onBeforeInit:null,onChange:null,onBeforeSubmit:null,onAfterSubmit:null,onError:null},a(function(){var b=a(".popup .wrap-error:first"),c=a(".register-popup").closest("form"),f=a(".contact-popup"),g=f.closest("form"),h=a("[data-select-info]",g),i=a("[data-more-info]",g),j=a("[data-phone-container]",g),k=j.data("placeholder-phone"),l=j.data("placeholder-email"),m=j.data("valid-phone"),n=j.data("valid-email"),o=j.data("title-phone"),p=j.data("title-email"),q=a("[data-phone-hidden]",g);h.off("change.moreInfo").on("change.moreInfo",function(){a(this).find(":selected").data("option-info")?i.is(":hidden")&&i.removeClass("hide").hide().slideDown():(i.find(":checkbox:checked").prop("checked",!1).trigger("change"),i.slideUp())}),j.off("change.type","select").on("change.type","select",function(){var b,c=a(this).closest(".form-group"),d=c.find(".wrap input"),e=c.find("label"),f=e.find("span"),h=d.attr("name"),i={},q={};q[h]={},this.selectedIndex?(b=p,d.attr("placeholder",l),i[h]="required digits",q[h].rules={email:!0},q[h].messages={email:n}):(b=o,d.attr("placeholder",k),i[d.attr("name")]="required email",q[h].rules={phonenumber:!0},q[h].messages={phonenumber:m}),void 0!==d.data("required")&&(q[h].rules.required=!0,q[h].messages.required=j.find("input:first").data("required-message")),b+=f.length?" <span>"+f.text()+"</span> :":" :",d.val(""),c.hasClass("error")&&(c.removeClass("error"),c.find(".wrap-error").remove()),g.validation("detach",i),g.validation("attach",q)}),j.trigger("change.type"),a("[data-add-contact]",g).off("click.addPhone").on("click.addPhone",function(b){b.preventDefault();var c=j.find("[data-added-phone]").length+1,d=a(this).data("validate-required"),e=d?'<i aria-hidden="true" class="wi-icon icon-required"></i>':"",f=a('<div class="form-group phone-component" data-added-phone><div class="row"><div class="col-sm-6"><label for="phone-"'+c+">"+p+" <span>"+c+"</span>:</label>"+e+'</div></div><div class="row"><div class="col-sm-6"><div class="input-group"><div class="dropdown"><div data-customselectbox="data-customselectbox" class="custom-select"><select class="custom-box"><option value="phone">Phone</option><option value="email">Email</option></select></div></div><div class="wrap"><input id="phone-'+c+'" name="phone-'+c+'" type="input" value="" placeholder="Enter phone number" autocomplete="off" class="form-control"/></div></div></div></div></div>'),h={},i="phone-"+c;h[i]={rules:{digits:!0},messages:{digits:m}},d&&(h[i].rules.required=!0,h[i].messages.required=j.find("input:first").data("required-message")),f.insertBefore(a(this).parent()),a("[data-customselectbox]",f).customSelectBox(),g.validation("attach",h)});var r=function(a){a?b.addClass("hidden"):b.removeClass("hidden")},s={successClass:"",labelClass:"col-sm-6 wrap-error",errorTemplate:'<i class="wi-icon icon-close-2"></i><p class="text-error">{0}</p>',errorAppendTo:".row:last",onBeforeInit:function(b){var c=b.find("[data-popin]").data("required-message");c&&b.find("[data-required]").each(function(){var b=a(this);b.data("required-message")||b.data("required-message",c)})},onBeforeSubmit:function(){var b=a("textarea",g);b.each(function(){var b=a(this),c=b.val();0!==c.length&&b.val('"'+c.replace(/"/g,"'")+'"')})},onChange:function(){r(!this.element.find(".wrap-error:visible").length)},onAfterSubmit:function(a){return r(a),a&&c.find(":submit").prop("disabled",!0),a}};a("[data-"+d+"]")[d](s),c[d](s);var t=a.extend(s,{onBeforeInit:function(a){var b=f.data("required-message");b&&a.find("[data-required]").data("required-message",b)},onAfterSubmit:function(b){if(r(b),!b)return!1;var c="";a("[data-added-phone] input").each(function(b){var d=" / ";0===b&&(d=""),c+=d+a(this).val()}),q.val(c),g.find(":submit").prop("disabled",!0)}});g[d](t);var u=function(){var b=g.find(".form-group.error"),c=a("[data-customselectbox]",g);c.each(function(){var b=a(this).find("select"),c=a(this).find(".visible-value"),d=b.find("option:first");c.text(d.text())}),a("[data-added-phone]").remove(),a("[data-more-info]").addClass("hide"),g[0].reset(),a("[data-phone-container] select").trigger("change"),b.removeClass("error"),b.find(".wrap-error").remove(),g.validation("destroy"),a("[data-phone-container] input").attr({"data-required":!0,"data-digits":!0,"data-digits-message":m}),g.validation(t)};a(".contact-popup").find(".icon-close-1, .btn-cancel").off("click.reset").on("click.reset",u);var v=a("#checkbox2"),w=v.parent();v.on("errorRendering",function(b,c){var d=w.next(".wrap-error");a(b.target).is(v)&&c&&c.length?d.length||w.after('<div class="wrap-error"><i class="wi-icon icon-close-2"></i><p class="text-error">'+c[0]+"</p></div>"):w.next().remove()}),c.off("click.resetform",".btn-cancel").on("click.resetform",".btn-cancel",function(){c.find(".form-group.error").removeClass("error").find(".wrap-error").remove()}),a(".no-paste").find("input").on("paste",function(a){a.preventDefault(),alert(e.nopaste.msg)})})}(jQuery,window),function(a){"use strict";a(document).ready(function(){a("video, audio").each(function(){var b=a(this);b.mediaelementplayer({success:function(a){void 0!==b.data("autoplay")&&a.play()}})})})}(jQuery),function(a,b){"use strict";a(function(){var c=a("body"),d=a("[data-welcome-back]"),e=a("[data-title]",d),f=a("[data-icon]",d),g=a("[data-url]",d),h=a(".close-btn",d),i="welcome",j=[/\{/g,/\}/g],k=["#","$"],l=[/\#/g,/\$/g],m=["{","}"],n="",o=(new Date).getTime(),p=72e5,q=500,r=b.dataWelcomeData,s=function(a){var b=a;return j.forEach(function(a,c){b=b.replace(j[c],k[c])}),b},t=function(a){var b=a;return j.forEach(function(a,c){b=b.replace(l[c],m[c])}),b};n=t(b.Site.getCookie(i)),r&&(r.time=(new Date).getTime(),b.Site.setCookie(i,s(JSON.stringify(r)),7)),c.hasClass("home")&&n&&(n=JSON.parse(n),o-n.time>p&&(e.attr({href:n.url,title:n.title}).text(n.title),n.icon?f.attr("src",n.icon).show():f.hide(),g.attr("href",n.url),d.slideDown(q),h.off("click.hide").on("click.hide",function(a){a.preventDefault(),d.slideUp(q),n.time=(new Date).getTime(),b.Site.setCookie(i,s(JSON.stringify(n)),7)})))})}(jQuery,window);
