<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:granite="http://www.adobe.com/jcr/granite/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Page">
    <jcr:content
        jcr:primaryType="nt:unstructured"
        jcr:title="Generic Lists"
        sling:resourceType="granite/ui/components/foundation/page">
        <head jcr:primaryType="nt:unstructured">
            <viewport
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/admin/page/viewport"/>
            <meta
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/meta"
                content="chrome=1"
                name="X-UA-Compatible"/>
            <title
                jcr:primaryType="nt:unstructured"
                jcr:title="Generic Lists"
                sling:resourceType="acs-commons/components/endor/page/title"/>
            <favicon
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/page/favicon"/>
            <clientlibs
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/includeclientlibs"
                categories="[granite.ui.foundation,granite.ui.foundation.admin]"/>
        </head>
        <body
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/foundation/page/body">
            <layout
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/endor/layouts/page"/>
            <rail
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/endor/navcolumns"
                currentId="acs-commons-generic-lists"
                srcPath="cq/core/content/nav"/>
            <breadcrumbs
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/navigation">
                <layout
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/endor/layouts/breadcrumbs"/>
            </breadcrumbs>
            <title
                jcr:primaryType="nt:unstructured"
                jcr:title="Generic Lists"
                sling:resourceType="acs-commons/components/endor/page/title"/>
            <header
                jcr:primaryType="nt:unstructured"
                srcPath="/mnt/overlay/cq/core/content/header"/>
            <content
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/foundation/container">
                <layout
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/endor/layouts/content"/>
                <header
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/foundation/container">
                    <layout
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/foundation/layouts/mode"
                        group="acs-aem-commons-admin-generic-lists"
                        mode="${state[&quot;acs-aem-commons.lists.selectionMode&quot;].boolean ? &quot;selection&quot; : &quot;default&quot; }"/>
                    <items jcr:primaryType="nt:unstructured">
                        <default
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/foundation/navigation">
                            <layout
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/endor/layouts/actionbar"/>
                            <items jcr:primaryType="nt:unstructured">
                                <toggleselectionmode
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/endor/actionbar/button"
                                    class="foundation-mode-change"
                                    foundation-mode-group="acs-aem-commons-admin-generic-lists"
                                    foundation-mode-value="selection"
                                    icon="icon-check-circle"
                                    text="Select"
                                    title="Select">
                                    <rendercondition
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/renderconditions/privilege"
                                        path="/etc/acs-commons/lists"
                                        privileges="jcr:write"/>
                                </toggleselectionmode>
                                <create
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/endor/actionbar/button"
                                    icon="icon-add"
                                    rel="acs-aem-commons-admin-generic-lists-newlist-activator"
                                    text="Create Generic List"
                                    title="Create Generic List">
                                    <rendercondition
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/renderconditions/privilege"
                                        path="${requestPathInfo.suffix}"
                                        privileges="jcr:addChildNodes"/>
                                </create>
                                <togglelayout
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/cyclebuttons"
                                    active="${state[&quot;acs-aem-commons.lists.layoutId&quot;].string}">
                                    <layoutConfig
                                        jcr:primaryType="nt:unstructured"
                                        align="right"/>
                                    <items jcr:primaryType="nt:unstructured">
                                        <card
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/endor/actionbar/button"
                                            class="foundation-layout-control"
                                            foundation-layout-control="\{&quot;action&quot;: &quot;switch&quot;, &quot;target&quot;: &quot;.acs-aem-commons-admin-generic-lists&quot;, &quot;config&quot;: {&quot;name&quot;: &quot;foundation-layout-card&quot;, &quot;limit&quot;: 50, &quot;stateId&quot;: &quot;acs-aem-commons.lists&quot;, &quot;layoutId&quot;: &quot;card&quot;}}"
                                            icon="icon-view-card"
                                            text="List View"
                                            title="Show as List"/>
                                        <list
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/endor/actionbar/button"
                                            class="foundation-layout-control"
                                            foundation-layout-control="\{&quot;action&quot;: &quot;switch&quot;, &quot;target&quot;: &quot;.acs-aem-commons-admin-generic-lists&quot;, &quot;config&quot;: {&quot;name&quot;: &quot;foundation-layout-list&quot;, &quot;limit&quot;: 50, &quot;stateId&quot;: &quot;acs-aem-commons.lists&quot;, &quot;layoutId&quot;: &quot;list&quot;}}"
                                            icon="icon-view-list"
                                            text="Card View"
                                            title="Show as Cards"/>
                                    </items>
                                </togglelayout>
                            </items>
                        </default>
                        <selection
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/foundation/navigation">
                            <layout
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/endor/layouts/actionbar"/>
                            <items jcr:primaryType="nt:unstructured">
                                <toggleselectionmode
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/endor/actionbar/button"
                                    active="{Boolean}true"
                                    class="foundation-mode-change"
                                    foundation-mode-group="acs-aem-commons-admin-generic-lists"
                                    foundation-mode-value="default"
                                    icon="icon-close-circle"
                                    text="Deselect"
                                    title="Deselect"/>
                                <open
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/collection/action"
                                    action="foundation2.link"
                                    activeSelectionCount="single"
                                    icon="icon-edit"
                                    rel="acs-aem-commons-admin-generic-lists-action-open"
                                    target=".acs-aem-commons-admin-generic-lists"
                                    text="Edit"
                                    title="Edit"
                                    variant="[actionBar,quiet,secondary]">
                                    <data
                                        jcr:primaryType="nt:unstructured"
                                        href.uritemplate="/{item}.html"/>
                                    <rendercondition
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/renderconditions/privilege"
                                        path="/etc/workflow/models"
                                        privileges="jcr:write"/>
                                </open>
                                <deletemodel
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/endor/actionbar/hyperlink"
                                    class="foundation-collection-action cq-workflow-admin-actions-delete-activator"
                                    foundation-collection-action="\{&quot;target&quot;: &quot;.acs-aem-commons-admin-generic-lists&quot;, &quot;activeSelectionCount&quot;: &quot;multiple&quot;}"
                                    href="#cq-workflow-admin-actions-delete-model"
                                    icon="icon-delete"
                                    rel="acs-aem-commons-admin-generic-lists-action-delete"
                                    text="Delete"
                                    title="Delete"
                                    toggle="modal">
                                    <rendercondition
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/renderconditions/privilege"
                                        path="/etc/workflow/models"
                                        privileges="jcr:removeNode"/>
                                </deletemodel>
                                <selectionstatus
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/endor/actionbar/selectionstatus"
                                    target=".acs-aem-commons-admin-generic-lists">
                                    <layoutConfig
                                        jcr:primaryType="nt:unstructured"
                                        align="right"/>
                                </selectionstatus>
                            </items>
                        </selection>
                    </items>
                </header>
                <content
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/foundation/container">
                    <items jcr:primaryType="nt:unstructured">
                        <models
                            granite:rel="acs-aem-commons-admin-generic-lists"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/foundation/container"
                            class="show-after-gridlayout hide">
                            <granite:data
                                jcr:primaryType="nt:unstructured"
                                foundation-mode-group="acs-aem-commons-admin-generic-lists"/>
                            <layout
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/layouts/multilayouts"
                                layout="${state[&quot;acs-aem-commons.lists.layoutId&quot;].string}">
                                <layouts jcr:primaryType="nt:unstructured">
                                    <card
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/layouts/cardview"
                                        layoutId="card"
                                        limit="{Long}50"
                                        maximized="{Boolean}true"
                                        selectionMode="${state[&quot;acs-aem-commons.lists.selectionMode&quot;].boolean}"
                                        src="/apps/acs-commons/content/generic-lists{.offset,limit}.html${granite:encodeURIPath(requestPathInfo.suffix)}"
                                        stateId="acs-aem-commons.lists">
                                        <headers
                                            jcr:primaryType="nt:unstructured"
                                            class="card-generic-list"
                                            selectable="{Boolean}true">
                                            <selector
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/selector"/>
                                            <main
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="main"
                                                title="Title"/>
                                            <description
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="description"
                                                title="Description"/>
                                            <version
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="version-card"
                                                title="Version"/>
                                            <transient
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="transient-card"
                                                title="Transient"/>
                                        </headers>
                                    </card>
                                    <list
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/foundation/layouts/listview"
                                        layoutId="list"
                                        limit="{Long}50"
                                        maximized="{Boolean}true"
                                        src="/apps/acs-commons/components/content/generic-lists{.offset,limit}.html${granite:encodeURIPath(requestPathInfo.suffix)}"
                                        stateId="acs-aem-commons.lists">
                                        <headers
                                            jcr:primaryType="nt:unstructured"
                                            class="card-generic-list"
                                            selectable="{Boolean}true">
                                            <selector
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/selector"/>
                                            <main
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="main"
                                                title="Title"/>
                                            <description
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="description"
                                                title="Description"/>
                                            <version
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="version-list"
                                                title="Version"/>
                                            <transient
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="cq/gui/components/siteadmin/admin/pages/headers/deflt"
                                                class="transient-list"
                                                title="Transient"/>
                                        </headers>
                                    </list>
                                </layouts>
                                <empty
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/gui/components/common/wcm/layouts/emptychildpages">
                                    <actions
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="granite/ui/components/endor/actionbar/button"
                                        hideText="{Boolean}true"
                                        icon="icon-add"
                                        rel="acs-aem-commons-admin-generic-lists-newlist-activator"
                                        text="Create Generic List"
                                        title="Create Generic List">
                                        <rendercondition
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/foundation/renderconditions/privilege"
                                            path="${requestPathInfo.suffix}"
                                            privileges="jcr:addChildNodes"/>
                                    </actions>
                                </empty>
                            </layout>
                            <datasource
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="acs-commons/components/utilities/query-datasource"
                                itemResourceType="acs-commons/components/utilities/genericlist/admin/list-item"
                                limit="${empty requestPathInfo.selectors[1] ? &quot;50&quot; : requestPathInfo.selectors[1]}"
                                offset="${requestPathInfo.selectors[0]}"/>
                        </models>
                        <deletemodels
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/workflow/admin/console/components/actions/deletemodel"
                            id="cq-workflow-admin-actions-delete-model"
                            rel="cq-workflow-admin-actions-delete-model"/>
                        <createmodeldialog
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="aemlivetrial/components/dialogs/newlistdialog"
                            action="/bin/wcmcommand"
                            id="newlistdialog"
                            rel="acs-aem-commons-admin-generic-lists-newlist-dialog">
                            <items jcr:primaryType="nt:unstructured">
                                <title
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/form/textfield"
                                    fieldLabel="Title *"
                                    name="title"
                                    required="{Boolean}true"
                                    validation="cq-workflow.notblank"/>
                                <label
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/form/textfield"
                                    fieldLabel="Name"
                                    name="label"
                                    validation="foundation.jcr.name"/>
                                <command
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/form/hidden"
                                    name="cmd"
                                    value="createPage"/>
                                <template
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/form/hidden"
                                    name="template"
                                    value="/apps/acs-commons/templates/utilities/genericlist"/>
                                <parentPath
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/form/hidden"
                                    name="parentPath"
                                    value="/etc/acs-commons/lists"/>
                                <charset
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/form/hidden"
                                    name="_charset_"
                                    value="utf-8"/>
                            </items>
                        </createmodeldialog>
                    </items>
                </content>
            </content>
        </body>
    </jcr:content>
</jcr:root>